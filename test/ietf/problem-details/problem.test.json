{
  "x-license": "https://github.com/sourcemeta/std/blob/main/LICENSE",
  "target": "../../../schemas/ietf/problem-details/problem.json",
  "tests": [
    {
      "description": "Invalid type - string",
      "data": "not an object",
      "valid": false
    },
    {
      "description": "Invalid type - number",
      "data": 123,
      "valid": false
    },
    {
      "description": "Invalid type - boolean",
      "data": true,
      "valid": false
    },
    {
      "description": "Invalid type - array",
      "data": [],
      "valid": false
    },
    {
      "description": "Invalid type - null",
      "data": null,
      "valid": false
    },
    {
      "description": "Empty object is valid",
      "data": {},
      "valid": true
    },
    {
      "description": "Valid minimal problem with type only",
      "data": {
        "type": "https://example.com/probs/out-of-credit"
      },
      "valid": true
    },
    {
      "description": "Valid minimal problem with title only",
      "data": {
        "title": "You do not have enough credit."
      },
      "valid": true
    },
    {
      "description": "Valid minimal problem with status only",
      "data": {
        "status": 400
      },
      "valid": true
    },
    {
      "description": "Valid minimal problem with detail only",
      "data": {
        "detail": "Your current balance is 30, but that costs 50."
      },
      "valid": true
    },
    {
      "description": "Valid minimal problem with instance only",
      "data": {
        "instance": "/account/12345/msgs/abc"
      },
      "valid": true
    },
    {
      "description": "Valid problem with all standard fields",
      "data": {
        "title": "You do not have enough credit.",
        "type": "https://example.com/probs/out-of-credit",
        "detail": "Your current balance is 30, but that costs 50.",
        "instance": "/account/12345/msgs/abc",
        "status": 403
      },
      "valid": true
    },
    {
      "description": "Valid problem with extension properties",
      "data": {
        "title": "You do not have enough credit.",
        "type": "https://example.com/probs/out-of-credit",
        "accounts": [ "/account/12345", "/account/67890" ],
        "balance": 30
      },
      "valid": true
    },
    {
      "description": "Valid problem with about:blank type",
      "data": {
        "title": "Internal Server Error",
        "type": "about:blank",
        "status": 500
      },
      "valid": true
    },
    {
      "description": "Valid problem with relative URI type",
      "data": {
        "title": "Validation Error",
        "type": "/probs/validation-error"
      },
      "valid": true
    },
    {
      "description": "Valid problem with fragment-only type",
      "data": {
        "title": "Validation Error",
        "type": "#validation-error"
      },
      "valid": true
    },
    {
      "description": "Valid problem with query-only type",
      "data": {
        "title": "Validation Error",
        "type": "?type=validation"
      },
      "valid": true
    },
    {
      "description": "Valid problem with relative instance",
      "data": {
        "instance": "../orders/12345"
      },
      "valid": true
    },
    {
      "description": "Valid problem with absolute instance",
      "data": {
        "instance": "https://example.com/orders/12345"
      },
      "valid": true
    },
    {
      "description": "Valid problem with minimum status code",
      "data": {
        "status": 100
      },
      "valid": true
    },
    {
      "description": "Valid problem with maximum status code",
      "data": {
        "status": 599
      },
      "valid": true
    },
    {
      "description": "Valid problem with common 4xx status",
      "data": {
        "title": "Not Found",
        "status": 404
      },
      "valid": true
    },
    {
      "description": "Valid problem with common 5xx status",
      "data": {
        "title": "Internal Server Error",
        "status": 500
      },
      "valid": true
    },
    {
      "description": "Invalid type field - number",
      "data": {
        "type": 123
      },
      "valid": false
    },
    {
      "description": "Invalid type field - boolean",
      "data": {
        "type": true
      },
      "valid": false
    },
    {
      "description": "Invalid type field - object",
      "data": {
        "type": {}
      },
      "valid": false
    },
    {
      "description": "Invalid type field - array",
      "data": {
        "type": []
      },
      "valid": false
    },
    {
      "description": "Invalid title field - number",
      "data": {
        "title": 123
      },
      "valid": false
    },
    {
      "description": "Invalid title field - boolean",
      "data": {
        "title": false
      },
      "valid": false
    },
    {
      "description": "Invalid title field - object",
      "data": {
        "title": {}
      },
      "valid": false
    },
    {
      "description": "Invalid title field - array",
      "data": {
        "title": []
      },
      "valid": false
    },
    {
      "description": "Invalid status field - string",
      "data": {
        "status": "400"
      },
      "valid": false
    },
    {
      "description": "Invalid status field - boolean",
      "data": {
        "status": true
      },
      "valid": false
    },
    {
      "description": "Invalid status field - object",
      "data": {
        "status": {}
      },
      "valid": false
    },
    {
      "description": "Invalid status field - array",
      "data": {
        "status": []
      },
      "valid": false
    },
    {
      "description": "Invalid status field - too low",
      "data": {
        "status": 99
      },
      "valid": false
    },
    {
      "description": "Invalid status field - too high",
      "data": {
        "status": 600
      },
      "valid": false
    },
    {
      "description": "Invalid status field - negative",
      "data": {
        "status": -1
      },
      "valid": false
    },
    {
      "description": "Invalid status field - float",
      "data": {
        "status": 400.5
      },
      "valid": false
    },
    {
      "description": "Invalid detail field - number",
      "data": {
        "detail": 123
      },
      "valid": false
    },
    {
      "description": "Invalid detail field - boolean",
      "data": {
        "detail": true
      },
      "valid": false
    },
    {
      "description": "Invalid detail field - object",
      "data": {
        "detail": {}
      },
      "valid": false
    },
    {
      "description": "Invalid detail field - array",
      "data": {
        "detail": []
      },
      "valid": false
    },
    {
      "description": "Invalid instance field - number",
      "data": {
        "instance": 123
      },
      "valid": false
    },
    {
      "description": "Invalid instance field - boolean",
      "data": {
        "instance": false
      },
      "valid": false
    },
    {
      "description": "Invalid instance field - object",
      "data": {
        "instance": {}
      },
      "valid": false
    },
    {
      "description": "Invalid instance field - array",
      "data": {
        "instance": []
      },
      "valid": false
    },
    {
      "description": "Valid empty string type",
      "data": {
        "type": ""
      },
      "valid": true
    },
    {
      "description": "Valid empty string title",
      "data": {
        "title": ""
      },
      "valid": true
    },
    {
      "description": "Valid empty string detail",
      "data": {
        "detail": ""
      },
      "valid": true
    },
    {
      "description": "Valid empty string instance",
      "data": {
        "instance": ""
      },
      "valid": true
    },
    {
      "description": "Valid problem with complex extension object",
      "data": {
        "title": "Your request parameters didn't validate.",
        "type": "https://example.net/validation-error",
        "invalid-params": [
          {
            "name": "age",
            "reason": "must be a positive integer"
          },
          {
            "name": "color",
            "reason": "must be 'green', 'red' or 'blue'"
          }
        ]
      },
      "valid": true
    },
    {
      "description": "Valid problem with numeric extension property",
      "data": {
        "type": "https://example.com/probs/out-of-credit",
        "balance": 30,
        "cost": 50
      },
      "valid": true
    },
    {
      "description": "Valid problem with boolean extension property",
      "data": {
        "type": "https://example.com/probs/maintenance",
        "scheduled": true
      },
      "valid": true
    },
    {
      "description": "Valid problem with null extension property",
      "data": {
        "type": "https://example.com/probs/user-error",
        "user": null
      },
      "valid": true
    },
    {
      "description": "Valid problem with mixed extension properties",
      "data": {
        "title": "Complex Problem",
        "type": "https://example.com/probs/complex",
        "arrayProp": [ 1, 2, 3 ],
        "booleanProp": false,
        "nullProp": null,
        "numberProp": 42,
        "objectProp": {
          "nested": "value"
        },
        "stringProp": "value"
      },
      "valid": true
    },
    {
      "description": "Valid problem with Unicode characters in strings",
      "data": {
        "title": "Unicode Problem: ‰Ω†Â•Ω‰∏ñÁïå",
        "type": "https://example.com/probs/unicode",
        "custom": "√ëo√±o: Œ±Œ≤Œ≥Œ¥Œµ",
        "detail": "Error with √©mojis: üö®‚ùå"
      },
      "valid": true
    },
    {
      "description": "Valid problem with percent-encoded URI type",
      "data": {
        "title": "Credit Problem",
        "type": "https://example.com/probs/out%20of%20credit"
      },
      "valid": true
    },
    {
      "description": "Valid problem with percent-encoded URI instance",
      "data": {
        "instance": "/users/john%20doe/orders/123"
      },
      "valid": true
    },
    {
      "description": "Valid problem with long strings",
      "data": {
        "title": "A very long title that goes on and on and on and on and on and on and on and on",
        "type": "https://example.com/probs/long-description",
        "detail": "A very long detail message that provides extensive information about what went wrong in the system and how the user might be able to fix it by following these very detailed instructions that go on for quite a while to test string length handling"
      },
      "valid": true
    }
  ]
}
